<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<div class="page">




<script>
function tournamentload() {
    round = getParameterByName('round');
      team = getParameterByName('team');
      tourn = getParameterByName('tourn');
      filename = team +'-'+round+'.txt'
     loadsave(textFileToArray('/'+tourn+'/'+filename)[0].split(';')[1])

}
</script>


<head>
  <title>Scorer</title>
  <meta charset="UTF-8" />

  <script src="jquery-1.11.3.min.js"></script>
  <script>
  $(document).bind('mobileinit',function(){
    $.mobile.changePage.defaults.changeHash = false;
    $.mobile.hashListeningEnabled = false;
    $.mobile.pushStateEnabled = false;
  });


  </script>
  <script src="jquery.mobile-1.4.5.min.js"></script>
  <script src="highcharts.js"></script>
  <script src="exporting.js"></script>
  <script src="scorer.js"></script>
  <script src="timers.js"></script>
  <script src="saver.js"></script>
  <script src="html.js"></script>
  <script type="text/javascript" src="jqm-spinbox.min.js"></script>

  <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
  <link rel="stylesheet" href="tournament.css">
  <link rel="stylesheet" href="jquery.mobile.icons.min.css" />
  <link rel="stylesheet" href="scorer.min.css" />



  <style>

    .only-print, .only-print *
    {
        display: none !important;
    }
    
    @media print
{    
    .no-print, .no-print *
    {
        display: none !important;
    }

    .only-print, .only-print *
    {
        display: block !important;
    }

body{width:100%;
    height:100%;
    -webkit-transform: rotate(-90deg) scale(0.65,0.65); 
    -moz-transform: rotate(-90deg) scale(.58,.58) }    

    }


    @page {
    size: A4 portrait;
    margin: 0.5cm;

}
    
 a:link img {
   opacity: 1.0;
filter: alpha(opacity=100); /* For IE8 and earlier */
filter: alpha(opacity=60); /* For IE8 and earlier */
   transition: opacity .5s ease-in-out;
   -moz-transition: opacity .5s ease-in-out;
   -webkit-transition: opacity .5s ease-in-out;
 }
 a:hover img {
   opacity: 0.6;
filter: alpha(opacity=60); /* For IE8 and earlier */
   transition: opacity .5s ease-in-out;
   -moz-transition: opacity .5s ease-in-out;
   -webkit-transition: opacity .5s ease-in-out;
 }
  table tr td {
    padding-left: 0px;
    padding-right: 0px;
    border-collapse: collapse;
  }
  //      tr td {display: inline-block; }


  #missionlist{
    width: auto;
    -webkit-column-width: 325px;
    -moz-column-width: 325px;
    column-width: 325px;
    -webkit-column-count: 3;
    -moz-column-count: 3;
    column-count: 3;
    -webkit-column-gap: 0;
    -moz-column-gap: 0;
    column-gap: 0;

  }

  .missionFmt {
    padding-right:3;
    padding-left:0
    -webkit-column-break-inside: avoid;
    page-break-inside: avoid;
    break-inside: avoid;
  }


  </style>

<script>langs=[]</script>

<script src="language-detector.js">  </script>

<script src="languages.js"></script>

</head>





<body onload="initpage();tournamentload();">

  <br>
  <table style="width:98%; text-align:center; margin-left:auto; margin-right:auto;">
    <tr>
      <td style="width:25%; text-align:left">
  <script>
              var page = '';
//              var page = window.location.href.split("?")[0].split("#")[0] + '?lang=';
              var i;
              for (i = 0; i < langs.length; i++) {
		  window[langs[i].split(':')[0].split('-')[0]] = page + langs[i].split(':')[0];
              }
              var i;
              for (i = 0; i < langs.length; i++) {
		  document.write('\
              <a class="no-print no-mobile" data-ajax="false" href="" onclick="createCookie(\''+langs[i].split(":")[0]+'\');language=\''+window[langs[i].split(":")[0].split("-")[0]]+'\';initpage();" style=" text-decoration: none">\
              <img src="images/icons/countries/small/'+langs[i].split(":")[1]+'.png" alt="'+langs[i].split(":")[2]+'" title="'+langs[i].split(":")[2]+'" width="26" height="26" border="0">\
              </a>\
              ')
              }
              </script>

      </td>

<script>
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

  if (getParameterByName('team') != null) {
  document.write('Team #'+getParameterByName('team'))
  document.write('<br>Round #'+getParameterByName('round'))
  document.write('<br>Tournament ID#: '+getParameterByName('tourn'))
  }
  </script>

    <script> 
    $(function(){
      $("#includedContent").load("tournament.html"); 
    });
    </script> 
           <div id="includedContent"></div>

      <td style="width:50%; font-size:24px; text-align:center">
        <b id='title'>INTO ORBIT SCORER (TITLE IN LANGUAGES.JS)</b>
      </td>
      <td style="width:25%; font-size:12px; text-align:right">
       <img alt="FLL..." style="border:1px solid #021a40;" src="images/FLL.png" height="57"> <img alt="INTO ORBIT..." style="border:1px solid #021a40;" src="images/intoorbit.png" height="57"> <a href="http://www.flltutorials.com" data-ajax="false"><img alt="FLL Tutorials" style="border:1px solid #021a40;" src="images/flltutorials.png" width="139"></a>
      </td>
    </tr>
  </table>

  <div data-tap-toggle="false" data-role="footer" style=" font-size: 120%; color: white;background-color:blue;" data-theme="a" data-position="fixed">
    <h1 style="padding-top:0; padding-bottom:0" ><i id="pointsTxt">Points</i><i>: </i><i id="allpoints"> 0</i> &emsp; &emsp; &emsp; <input id="resetTxt" type="button" value="Reset" class="ui-mini no-print" onclick='document.getElementById("missions").reset();loadsave(blanksave);'></h1>
  </div>

  <div role="main" class="ui-content" style="padding-right:0; padding-left:0">
    <div data-role="tabs">

      <div id="tabs-1">

        <form id="missions">
          <div id="missionlist">
            <script src="missions.js">            </script>
          </div>
          

          <br>
        </form>
      </div>

      <div id="tabs-2">
        <p>
          <div class="ui-mini" id="Timer">
            Timer:
            <table style="border: 10px solid black; border-collapse: collapse;">
              <tr style="border: 10px solid black; border-collapse: collapse;">
                <td rowspan='3' style="border: 10px solid black;  border-collapse: collapse; vertical-align:middle; font-size: 200%;">
                  <p id="countdownTime" style="margin-left: 5px;margin-right: 5px;">2:30
                  </p>
                </td>
                <td style="border: 10px solid black; border-collapse: collapse;">
                  <button id="startText" style="margin:0" onclick="CDtimer()">Start</button>
                </td>
              </tr>
              <tr style="border: 10px solid black; border-collapse: collapse;">
                <td style="border: 10px solid black; border-collapse: collapse;">
                  <button id="resetText" style="margin:0" onclick="document.getElementById('countdownTime').textContent = '2:30'; CDseconds = 30; CDminutes = 2; clearTimeout(CDinterval); CDinterval = null;">Reset</button>
                </td>
              </tr>
              <tr>
                <td style="border: 10px solid black; border-collapse: collapse;">
                  <button style="margin:0" id="stopText" onclick="clearTimeout(CDinterval); CDinterval = null;">Stop</button>
                </td>
              </tr>
            </table>
          </div>


          <div class="ui-mini" id="Stopwatch">
            Stopwatch:
            <table style="border: 10px solid black; border-collapse: collapse;">
              <tr style="border: 10px solid black; border-collapse: collapse;">
                <td rowspan='3' style="border: 10px solid black; border-collapse: collapse; vertical-align:middle; font-size: 200%">
                  <p id="stopwatchTime" style="margin-left: 5px;margin-right: 5px;">00:00.0
                  </p>
                </td>
                <td style="border: 10px solid black; border-collapse: collapse;">
                  <button style="margin:0" id="startSW" onclick="SWtimer();">Start</button>
                </td>
              </tr>
              <tr>
                <td style="border: 10px solid black; border-collapse: collapse;">
                  <button style="margin:0" id="resetSW" onclick="document.getElementById('stopwatchTime').textContent = '00:00.0'; SWseconds = 0; SWminutes = 0; SWtenths=0; clearTimeout(SWinterval); SWinterval = null;">Reset</button>
                </td>
              </tr>
              <tr>
                <td style="border: 10px solid black; border-collapse: collapse;">
                  <button style="margin:0" id="stopSW" onclick="clearTimeout(SWinterval); SWinterval = null;">Stop</button>
                </td>
              </tr>
            </table>
          </div>
        </p>
      </div>


      <div id="tabs-3">
        <div style="width: 340">
          <button type="button" id="saveText" onclick="sharksave=0;saveLocalStorage() ; saver();loadsaves(); drawBasic(); maximum = window.localStorage.DRIOSscorer.split('/').length-1" >Save Score</button></div>
        <br>

        <div class="ui-grid-b ui-responsive">
          <div style="width: 170" class="ui-block-a" align="left" style="float: left;">  <div class="button-wrap">
            <button style="text-align: left;" id="loadText" class="ui-shadow ui-btn ui-corner-all" type="button" onclick="loader(document.getElementById('saveid').value)">Load Save:</button></div></div>
            <div class="ui-block-b" style="width: 170">

              <div data-role="stepper" data-direction="vertical">
              <style>
              input[type=number]::-webkit-outer-spin-button,
              input[type=number]::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
              }

              input[type=number] {
                -moz-appearance:textfield;
              }		</style>

              <script>

		if(window.localStorage.DRIOSscorer != undefined){
		  maximum = window.localStorage.DRIOSscorer.split('/').length-1 ;
		  min=1 ;
                start = 1;
		} else {
		maximum=0
		min=0
		start = 0
		}
		increment = 1;
		mission = "saveid" ;
		</script>
		<script>
                document.write(' <input data-role="spinbox"   type="number"  data-highlight="true" data-theme="b" onchange=" if (this.value > maximum) {this.value = this.value - 1}" search="2" class="quantity" data-show-value="true" name="'+mission+'" id="'+mission+'" value="'+start+'" min="'+min+'" step="1" >')

                </script>
              </div>

            </div>

          </div>
          <div style="width: 340">	  <button id="deleteText" class="ui-button ui-widget ui-corner-all" type="button" onclick="window.localStorage.DRIOSscorer = ''; window.localStorage.DRIOS1scorer = ''; loadsaves(); drawBasic(); alert('Deleted Saves')">Delete Save</button></div>

          <div style="width: 340">
            <div id="container" style="min-width: 310px; height: 200px; margin: 0 auto"></div>
            <div id="saves" ></div>

            <button id="importText" class="ui-mini" onclick=" document.getElementById('fileInput').click() ;
            //alert('choose .AA1EV3 file') ; document.getElementById('fileInput2').click();
maximum = window.localStorage.DRIOSscorer.split('/').length-1;">Import Save</button>

            <input onchange="setTimeout(function(){ loadsaves(); drawBasic();document.getElementById('saveid').max = window.localStorage.DRIOSscorer.split('/').length-1;},300)" style=" position: fixed;    bottom: -10000;   left: -100000; }, 30);" type="file" id="fileInput">
            <input onchange="setTimeout(function(){ loadsaves(); drawBasic();document.getElementById('saveid').max = window.localStorage.DRIOSscorer.split('/').length-1;},300)" style=" position: fixed;    bottom: -10000;   left: -100000; }, 30);" type="file" id="fileInput2">

            <a style=" position: fixed;    bottom: -10000;   left: -100000;"id="export" href="#">Export Saves</a>
            <a style=" position: fixed;    bottom: -10000;   left: -100000;"id="export2" href="#">Export2 Saves</a>
            <button class="ui-mini" id="exportText" onclick="document.getElementById('export').click(); document.getElementById('export2').click()">Export Save</button>
            <script type="text/javascript">
            var anchor = document.getElementById('export');
            var anchor2 = document.getElementById('export2');

            anchor.onclick = function() {
              var currentTime = new Date()
              var day = currentTime.getDate()
              anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.DRIOSscorer + ';' + window.localStorage.DRIOS1scorer);
              anchor.download = day + 'myscores.DRIO';
              //     setTimeout(function(){   ;  anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.DRIOS1scorer);    anchor.download = day + 'myscores.AA1EV3';}, 50)
            };
            anchor2.onclick = function() {
              var currentTime = new Date()
              //    var day = currentTime.getDate()
              //    anchor2.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.DRIOS1scorer);
              //    anchor2.download = day + 'myscores.AA1EV3';
            }
            </script>

          </div>

        </div>
        <div class="no-print no-tournament" data-role="navbar">

          <div data-tap-toggle="false" data-role="header" data-position="fixed">

            <ul>
              <li><a id="scorerTitle" class="ui-btn-active" href="#tabs-1">Scorer</a></li>
              <li><a id="timersTitle" href="#tabs-2">Timers</a></li>
              <li><a id="savesTitle" href="#tabs-3">Saves</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

</body>
<script>
window.onload = function() {
  loadsaves(); drawBasic();

  //document.getElementById('noshark').click()
  check_missions('slingshot2');recalc(0,'slingshot2', 0)
  //   check_missions('shark');recalc(0,'shark',1);$('#noallsamples').checkboxradio('disable');$('#yesallsamples').checkboxradio('disable');
  var fileInput = document.getElementById('fileInput');

  fileInput.addEventListener('change', function(e) {
    var file = fileInput.files[0];
    var textType = /text.*/;

    if (1==1) {
      var reader = new FileReader();

      reader.onload = function(e) {
        data = reader.result;
        //alert(data)

        window.localStorage.DRIOSscorer = data.split(';')[0];
window.localStorage.DRIOS1scorer = data.split(';')[1];
maximum = window.localStorage.DRIOSscorer.split('/').length-1
      }

      reader.readAsText(file);
    } else {

    }
  });



  var fileInput2 = document.getElementById('fileInput2');

  fileInput2.addEventListener('change', function(e) {
    var file2 = fileInput2.files[0];
    var textType2 = /text.*/;

    if (1==1) {
      var reader2 = new FileReader();

      reader2.onload = function(e) {

        data2 = reader2.result;
        //alert(data2)
        window.localStorage.DRIOS1scorer =  data2;
      }

      reader2.readAsText(file2);
    } else {

    }
  });
tournamentload()
}
</script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-65893558-1', 'auto');
ga('send', 'pageview');
</script>

<!--
<script>
countrycode = language.split('-')[0]
  if (countrycode != "he" && countrycode != "hu" && countrycode !=
  "en" && countrycode != "el") {
   document.write('<a target="_blank"\
  href="https://itunes.apple.com/'+countrycode+'/app/fll-hydro-dynamics-scorer/id1281134368?ls=1&mt=8">\
<img height="68" style="padding: 15px" \
src="app-store/'+language+'.svg"></a><br>')
} else if (countrycode == "he"){
  
   document.write('<a target="_blank"\
  href="https://itunes.apple.com/gb/app/fll-hydro-dynamics-scorer/id1281134368?ls=1&mt=8">\
<img height="68" style="padding: 15px" \
src="app-store/'+language+'.svg"></a><br>')

}

  if (countrycode != "hu") {

} else {

   document.write('<a target="_blank"\
  href="https://itunes.apple.com/gb/app/fll-hydro-dynamics-scorer/id1281134368?ls=1&mt=8">\
<img height="68" style="padding: 15px" \
src="app-store/en-us.svg"></a><br>')
}
 if (countrycode != "en") {

} else {

   document.write('<a target="_blank"\
  href="https://itunes.apple.com/us/app/fll-hydro-dynamics-scorer/id1281134368?ls=1&mt=8">\
<img height="68" style="padding: 15px" \
src="app-store/en-us.svg"></a><br>')
}
 if (countrycode != "el") {

} else {

   document.write('<a target="_blank"\
  href="https://itunes.apple.com/gr/app/fll-hydro-dynamics-scorer/id1281134368?ls=1&mt=8">\
<img height="68" style="padding: 15px" \
src="app-store/en-us.svg"></a><br>')
}
countrycode = language.split('-')[0]




  if (language == 'he') {
  countrycode = "iw"
  }
  document.write('<a target="_blank"\
  href="https://play.google.com/store/apps/details?id=com.ev3lessons.fllhydrodynamicsscorer&hl='+countrycode+'">\
<img height="100" \
src="google-play/'+countrycode+'_get.svg"></a>')

</script>
-->



<div style="max-width:500px">
<iframe style="display: none;" id="saveframe"></iframe>

<button onclick="savetoserver();" id="saverTscorer" type="button" >Save Score"</button>
<input onclick="window.location.href = '/'+tourn+'/loadscorer.html';" type="button" value="Return to Score Manager">
</div>
<script>
    round = getParameterByName('round');
      team = getParameterByName('team');
      tourn = getParameterByName('tourn');

  function savetoserver() {
    points = parseInt(document.getElementById('allpoints').innerHTML)
    getvar() //var store
    round = getParameterByName('round');
      team = getParameterByName('team');
      tourn = getParameterByName('tourn');

      filename = team +'-'+round+'.txt'
      savedata = points+';'+store

      document.getElementById('saveframe').src = encodeURI('/'+tourn+'/save.php?fname=' + filename+'&data='+savedata);
    alert('Saved Score '+points+' points')
  }
function textFileToArray(filename)
{
    var reader = (window.XMLHttpRequest != null )
               ? new XMLHttpRequest()
               : new ActiveXObject("Microsoft.XMLHTTP");
    reader.open("GET", filename, false );
    reader.send();
    return reader.responseText.split('\n'); //.split(/(\r\n|\n)/g);
}


</script>





<script>


	    function initpage() {
		languageInit()

/*		if (window.localStorage.DRCSGoogleSheet != undefined) {
		    document.getElementById('sheetId').value = window.localStorage.DRCSGoogleSheet;
		    } else {
			document.getElementById('sheetId').value = undefinedText;
		    }


		if (language =='he' || language == 'ar') {
      document.getElementById("wholeBody").style.textAlign = "right"
  } else {
      document.getElementById("wholeBody").style.textAlign = "left"

  }

		countrycode = language.split('-')[0]
		    if (language == 'he') {
			countrycode = "iw"
		    }
		
		document.getElementById("appstore").src = "app-store/"+language+".svg"
		document.getElementById("googleplay").src = "google-play/"+countrycode+"_get.svg"
*/
      document.getElementById('title').innerHTML = title
      document.getElementById('resetTxt').value = resetText

      document.getElementById('pointsTxt').innerHTML = pointsText
  /*    document.getElementById('pointsTxt2').innerHTML = pointsText + ": "

*/
      document.getElementById('saverTscorer').innerHTML = savescoreText
/*      document.getElementById('loadText').innerHTML = loadsaveText
      document.getElementById('deleteText').innerHTML = deletesaveText
      document.getElementById('importText').innerHTML = importsaveText
      document.getElementById('exportText').innerHTML = exportsaveText

      document.getElementById('saveGoogleBtn').innerHTML = savescoreText
      document.getElementById('loadTextGoogle').innerHTML = loadsaveText


      document.getElementById('startText').innerHTML = startText
      document.getElementById('stopText').innerHTML = stopText
      document.getElementById('resetText').innerHTML = resetText

      document.getElementById('startSW').innerHTML = startText
      document.getElementById('stopSW').innerHTML = stopText
      document.getElementById('resetSW').innerHTML = resetText

      document.getElementById('scorerTitle').innerHTML = scorerText
      document.getElementById('timersTitle').innerHTML = timersText
      document.getElementById('savesTitle').innerHTML = savesText

      document.getElementById('signin-Google').innerHTML = signin
      document.getElementById('signout-Google').innerHTML = signout
      document.getElementById('GoogleCreate').innerHTML = GoogleCreate
      document.getElementById('GoogleOpen').innerHTML = GoogleOpen
      document.getElementById('googleText').innerHTML = googleSaveText
      document.getElementById('localText').innerHTML = localSaveText

      document.getElementById('isIE').innerHTML = isIE
      document.getElementById('googleIntro').innerHTML = googleIntro
      document.getElementById('pastSaves').innerHTML = pastSaves
      document.getElementById('instructions').innerHTML = instructions
      document.getElementById('instructionsA').innerHTML = instructionsA
      document.getElementById('instructionsB').innerHTML = instructionsB
      document.getElementById('instructionsC').innerHTML = instructionsC
      document.getElementById('instructionsD').innerHTML = instructionsD
      document.getElementById('instructionsE').innerHTML = instructionsE
      document.getElementById('instructionsF').innerHTML = instructionsF
      document.getElementById('instructionsG').innerHTML = instructionsG

      document.getElementById('teamText').innerHTML = teamText
      document.getElementById('roundText').innerHTML = roundText

      document.getElementById('timerText').innerHTML = timerText
      document.getElementById('stopwatchText').innerHTML = stopwatchText

      document.getElementById('revisionText').innerHTML = revisionText
      document.getElementById('copyrightText').innerHTML = copyrightText

      document.getElementById('systemText').innerHTML = systemText

      document.getElementById('idText').innerHTML = idText

      document.getElementById('versionText').innerHTML = versionText
*/
    /*  if (translatorCredit != "") {
	  document.getElementById('translatorCredit').innerHTML = translatorCredit
      } else {
	  document.getElementById('translatorCredit').innerHTML = "If you would like to help us translate this scorer into another language, please download <a rel='external' data-ajax='false' href='CityShaper-translations-latest.rtf'>this file</a> and follow the instructions."
      }

      if ((navigator.userAgent.indexOf("MSIE") != -1 ) || (!!document.documentMode == true )) {
	  document.getElementById('notIE').style.display = 'none'
      } else {
	  document.getElementById('isIE').style.display = 'none'
      }

*/


      var variables = ""
      for (var name in this){
	  if (name[0] == "M" || name[0] == "A" && name != "API_KEY") {
	    variables += name + "\n";
	    console.log(name)
	    document.getElementById(name).innerHTML = window[name]
	  }

	  if (name.indexOf("yesText") != -1) {
	    variables += name + "\n";
	    console.log(name)
	    document.getElementById(name).innerHTML = yes
	  }
	  
	  if (name.indexOf("noText") != -1) {
	    variables += name + "\n";
	    console.log(name)
	    document.getElementById(name).innerHTML = no
	  }
	  
	  if (name.indexOf("partlyText") != -1) {
	    variables += name + "\n";
	    console.log(name)
	    document.getElementById(name).innerHTML = partly
	  }

	  if (name.indexOf("completelyText") != -1) {
	    variables += name + "\n";
	    console.log(name)
	    document.getElementById(name).innerHTML = completely
	  }

	  if (name.indexOf("mNum") != -1) {
	    variables += name + "\n";
	    console.log(name)
	    document.getElementById(name).innerHTML = missionNumbering
	  }
      }

//      displaysaves()
//      drawBasic()

		$('#resetTxt').button('refresh');
		$('#saverTscorer').button('refresh');

  }
	    
  initpage();
</script>
<br>






Scoring System Version 3.4.0
<br>Copyright (c) 2019 Seshan Brothers
<script>
/*if (language =='he') {
document.write('<style>td {text-align: right;}</style>')
}*/
//initpage();
  </script>
</div>
